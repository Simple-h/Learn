<!quickSort html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
</head>
<body>
	
</body>
<script>
/*  
	手写 new

	思路:
	（1）首先创建了一个新的空对象
	（2）设置原型，将对象的原型设置为函数的 prototype 对象。
	（3）让函数的 this 指向这个对象，执行构造函数的代码（为这个新对象添加属性）
	（4）判断函数的返回值类型，如果是值类型，返回创建的对象。如果是引用类型，就返回这个引用类型的对象。
*/

	function myNew(fn,...args){
		if (typeof fn !== 'function') {
			return console.error('type error')
		}
		let obj = Object.create(fn.prototype)
		let value = fn.apply(obj,args)
		return value instanceof Object?value:obj;

	}


















	function myNew(fn , ...args){
		if(typeof fn !== 'function'){
			return console.error('tpye error')
		}
		let obj = Object.create(fn.prototype);
		let value = fn.apply(obj,args)
		return value instanceof Object ? value : obj;
		
	}
</script>
</html>